2025-07-03 01:49:17,543 - SVM - INFO - ===== 学业困难学生识别 - SVM模型 =====
2025-07-03 01:49:17,543 - SVM - INFO - 加载预处理数据...
2025-07-03 01:49:17,683 - SVM - INFO - 数据加载成功，形状: (31482, 62)
2025-07-03 01:49:17,683 - SVM - INFO - 准备特征和目标变量...
2025-07-03 01:49:17,683 - SVM - INFO - 训练时已去除final_result列，防止信息泄露。
2025-07-03 01:49:17,688 - SVM - INFO - 学业困难学生比例: 53.45% (16827/31482)
2025-07-03 01:49:17,688 - SVM - INFO - 划分训练集和测试集 (80:20)...
2025-07-03 01:49:17,707 - SVM - INFO - 训练集: 25185 样本
2025-07-03 01:49:17,707 - SVM - INFO - 测试集: 6297 样本
2025-07-03 01:49:17,710 - SVM - INFO - 创建预处理和建模管道...
2025-07-03 01:49:17,710 - SVM - INFO - 开始网格搜索优化超参数...
2025-07-03 02:02:42,496 - SVM - INFO - 网格搜索完成!
2025-07-03 02:02:42,497 - SVM - INFO - 最佳参数: {'classifier__C': 10, 'classifier__gamma': 'auto', 'classifier__kernel': 'rbf'}
2025-07-03 02:02:42,497 - SVM - INFO - 最佳交叉验证F1分数: 0.9026
2025-07-03 02:02:42,505 - SVM - INFO - 模型已保存至: ../outputs/SVM\svm_model.pkl
2025-07-03 02:02:42,505 - SVM - INFO - 评估模型性能...
2025-07-03 02:02:49,866 - SVM - INFO - 评估完成，耗时: 7.36秒
2025-07-03 02:02:49,866 - SVM - INFO - 
==================== 模型性能指标 ====================
2025-07-03 02:02:49,866 - SVM - INFO - 准确率 (Accuracy): 0.9007
2025-07-03 02:02:49,866 - SVM - INFO - 精确率 (Precision): 0.9471
2025-07-03 02:02:49,866 - SVM - INFO - 召回率 (Recall): 0.8624
2025-07-03 02:02:49,866 - SVM - INFO - F1分数 (F1-Score): 0.9028
2025-07-03 02:02:49,866 - SVM - INFO - ROC AUC分数: 0.9542
2025-07-03 02:02:49,866 - SVM - INFO - 
==================== 混淆矩阵 ====================
2025-07-03 02:02:49,866 - SVM - INFO - 
[[2769  162]
 [ 463 2903]]
2025-07-03 02:02:49,866 - SVM - INFO - 
==================== 分类报告 ====================
2025-07-03 02:02:49,866 - SVM - INFO - 
              precision    recall  f1-score   support

        正常学生       0.86      0.94      0.90      2931
      学业困难学生       0.95      0.86      0.90      3366

    accuracy                           0.90      6297
   macro avg       0.90      0.90      0.90      6297
weighted avg       0.91      0.90      0.90      6297

2025-07-03 02:02:49,874 - SVM - INFO - 评估指标已保存至: ../outputs/SVM\metrics.csv
2025-07-03 02:02:49,874 - SVM - INFO - 使用SHAP进行特征解释分析...
2025-07-03 02:02:49,887 - SVM - INFO - 初始化SHAP解释器...
2025-07-03 02:02:49,898 - SVM - INFO - 计算SHAP值...
2025-07-03 02:10:43,901 - SVM - INFO - SHAP值形状: (20, 60, 2)
2025-07-03 02:10:43,901 - SVM - INFO - 数据集形状: (20, 60)
2025-07-03 02:10:43,901 - SVM - INFO - 使用正类SHAP值形状: (20, 60)
2025-07-03 02:10:44,753 - SVM - INFO - 
==================== SHAP特征分析结果 ====================
2025-07-03 02:10:44,753 - SVM - INFO - Top 10 重要特征 (基于SHAP值):
2025-07-03 02:10:44,757 - SVM - INFO -                   Feature  Mean |SHAP|
12    date_unregistration     0.102631
20   active_days_homepage     0.090748
0             code_module     0.032133
28       active_days_quiz     0.031550
57    overall_active_days     0.026153
32    active_days_subpage     0.019418
40  total_clicks_homepage     0.017348
50  total_clicks_resource     0.014878
48      total_clicks_quiz     0.013637
58       avg_daily_clicks     0.010564
2025-07-03 02:10:44,757 - SVM - INFO - SHAP摘要图已保存至: ../outputs/SVM\shap_results\shap_summary.png
2025-07-03 02:10:44,757 - SVM - INFO - SHAP条形图已保存至: ../outputs/SVM\shap_results\shap_bar.png
2025-07-03 02:10:44,757 - SVM - INFO - SHAP特征重要性已保存至: ../outputs/SVM\shap_results\shap_feature_importance.csv
2025-07-03 02:10:44,757 - SVM - INFO - 
===== SVM模型总结 =====
2025-07-03 02:10:44,757 - SVM - INFO - 学业困难学生识别率 (召回率): 86.24%
2025-07-03 02:10:44,757 - SVM - INFO - 模型准确率: 90.07%
2025-07-03 02:10:44,757 - SVM - INFO - F1分数: 0.9028
2025-07-03 02:10:44,758 - SVM - INFO - ROC AUC: 0.9542
2025-07-03 02:10:44,758 - SVM - INFO - 学业困难学生识别任务完成!
