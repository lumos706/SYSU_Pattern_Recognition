2025-07-03 01:48:07,781 - LogisticRegression - INFO - ===== 学业困难学生识别 - 逻辑回归模型 =====
2025-07-03 01:48:07,781 - LogisticRegression - INFO - 加载预处理数据...
2025-07-03 01:48:07,903 - LogisticRegression - INFO - 数据加载成功，形状: (31482, 62)
2025-07-03 01:48:07,903 - LogisticRegression - INFO - 准备特征和目标变量...
2025-07-03 01:48:07,903 - LogisticRegression - INFO - 训练时已去除final_result列，防止信息泄露。
2025-07-03 01:48:07,909 - LogisticRegression - INFO - 学业困难学生比例: 53.45% (16827/31482)
2025-07-03 01:48:07,909 - LogisticRegression - INFO - 划分训练集和测试集 (80:20)...
2025-07-03 01:48:07,925 - LogisticRegression - INFO - 训练集: 25185 样本
2025-07-03 01:48:07,925 - LogisticRegression - INFO - 测试集: 6297 样本
2025-07-03 01:48:07,929 - LogisticRegression - INFO - 创建预处理和建模管道...
2025-07-03 01:48:07,929 - LogisticRegression - INFO - 开始网格搜索优化超参数...
2025-07-03 01:48:23,833 - LogisticRegression - INFO - 网格搜索完成!
2025-07-03 01:48:23,834 - LogisticRegression - INFO - 最佳参数: {'classifier__C': 1, 'classifier__penalty': 'l1', 'classifier__solver': 'liblinear'}
2025-07-03 01:48:23,834 - LogisticRegression - INFO - 最佳交叉验证F1分数: 0.8842
2025-07-03 01:48:23,835 - LogisticRegression - INFO - 模型已保存至: ../outputs/LogisticRegression\logistic_regression_model.pkl
2025-07-03 01:48:23,836 - LogisticRegression - INFO - 评估模型性能...
2025-07-03 01:48:24,202 - LogisticRegression - INFO - 评估完成，耗时: 0.37秒
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 
==================== 模型性能指标 ====================
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 准确率 (Accuracy): 0.8774
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 精确率 (Precision): 0.8923
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 召回率 (Recall): 0.8764
2025-07-03 01:48:24,203 - LogisticRegression - INFO - F1分数 (F1-Score): 0.8843
2025-07-03 01:48:24,203 - LogisticRegression - INFO - ROC AUC分数: 0.9479
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 
==================== 混淆矩阵 ====================
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 
[[2575  356]
 [ 416 2950]]
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 
==================== 分类报告 ====================
2025-07-03 01:48:24,203 - LogisticRegression - INFO - 
              precision    recall  f1-score   support

        正常学生       0.86      0.88      0.87      2931
      学业困难学生       0.89      0.88      0.88      3366

    accuracy                           0.88      6297
   macro avg       0.88      0.88      0.88      6297
weighted avg       0.88      0.88      0.88      6297

2025-07-03 01:48:24,207 - LogisticRegression - INFO - 评估指标已保存至: ../outputs/LogisticRegression\metrics.csv
2025-07-03 01:48:24,207 - LogisticRegression - INFO - 使用SHAP进行特征解释分析...
2025-07-03 01:48:24,224 - LogisticRegression - INFO - 初始化SHAP解释器...
2025-07-03 01:48:24,225 - LogisticRegression - INFO - 计算 500 个样本的SHAP值...
2025-07-03 01:48:25,259 - LogisticRegression - INFO - 
==================== SHAP特征分析结果 ====================
2025-07-03 01:48:25,259 - LogisticRegression - INFO - Top 10 重要特征 (基于SHAP值):
2025-07-03 01:48:25,261 - LogisticRegression - INFO -                   Feature  Mean |SHAP|
20   active_days_homepage     3.013237
40  total_clicks_homepage     1.106460
12    date_unregistration     0.829404
58       avg_daily_clicks     0.558525
28       active_days_quiz     0.413858
33        active_days_url     0.394775
3                  gender     0.386606
53       total_clicks_url     0.380619
57    overall_active_days     0.379735
52   total_clicks_subpage     0.359575
2025-07-03 01:48:25,261 - LogisticRegression - INFO - SHAP摘要图已保存至: ../outputs/LogisticRegression\shap_results\shap_summary.png
2025-07-03 01:48:25,262 - LogisticRegression - INFO - SHAP条形图已保存至: ../outputs/LogisticRegression\shap_results\shap_bar.png
2025-07-03 01:48:25,262 - LogisticRegression - INFO - SHAP特征重要性已保存至: ../outputs/LogisticRegression\shap_results\shap_feature_importance.csv
2025-07-03 01:48:25,262 - LogisticRegression - INFO - 
===== 逻辑回归模型总结 =====
2025-07-03 01:48:25,262 - LogisticRegression - INFO - 学业困难学生识别率 (召回率): 87.64%
2025-07-03 01:48:25,262 - LogisticRegression - INFO - 模型准确率: 87.74%
2025-07-03 01:48:25,262 - LogisticRegression - INFO - F1分数: 0.8843
2025-07-03 01:48:25,262 - LogisticRegression - INFO - ROC AUC: 0.9479
2025-07-03 01:48:25,262 - LogisticRegression - INFO - 学业困难学生识别任务完成!
